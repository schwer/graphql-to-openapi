(this.webpackJsonpdocs=this.webpackJsonpdocs||[]).push([[0],{158:function(e,n,t){},161:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(127),i=t.n(r),s=t(11),c=t(51),l=t(169),h=t(168),d=t(135),p=t(170),u=t(133),j=t(128),g=t(134),m=t(131),b=t.p+"static/media/logo.db5d4e82.svg",v=t(132),O=t.n(v),f=(t(154),t(155),t(156),t(17));var x=function(e){var n=e.errors,t=e.onChange,a=e.value,o=n?n.map((function(e){var n,t,a=e.message,o=e.locations,r={text:a,row:null!==(n=null===o||void 0===o?void 0:o[0].line)&&void 0!==n?n:0,column:null!==(t=null===o||void 0===o?void 0:o[0].column)&&void 0!==t?t:0,type:"error"};return r.row--,r})):[];return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(O.a,{mode:"graphqlschema",annotations:o,setOptions:{useWorker:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,tabSize:2},value:a,onChange:t,width:"100%",height:"100%",style:{fontSize:"10px",border:"1px solid #ccc",borderRadius:"4px"}})})},y=(t(158),{fontFamily:"Consolas, monospace, sans-serif",fontSize:11,height:"100%",resize:"none",width:"100%"}),w=function(){var e,n,t,o=localStorage.getItem("graphql-to-openapi:schemaString"),r=localStorage.getItem("graphql-to-openapi:inputQuery"),i=Object(a.useState)(null!==o&&void 0!==o?o:'type Query {\n  query: Query\n\n  """\n  An array of strings\n  """\n  arrayOfStrings(\n    input: String!,\n    otherInput: String!\n  ): [String!]!\n}'),v=Object(s.a)(i,2),O=v[0],w=v[1],S=Object(a.useState)(null!==r&&void 0!==r?r:"query scalarQuery (\n  $input: String!,\n  $otherInput: String!\n) {\n  arrayOfStrings(input: $input, otherInput: $otherInput)\n}"),N=Object(s.a)(S,2),A=N[0],q=N[1],k=Object(a.useState)("YAML"),L=Object(s.a)(k,2),Q=L[0],I=L[1];Object(a.useEffect)((function(){localStorage.setItem("graphql-to-openapi:schemaString",O)}),[O]),Object(a.useEffect)((function(){localStorage.setItem("graphql-to-openapi:inputQuery",A)}),[A]);try{var W=Object(j.graphqlToOpenApi)({schema:new c.a(O,"Schema"),query:A,onUnknownScalar:function(){return{type:"string"}}});e=W.openApiSchema,n=W.schemaError,t=W.queryErrors}catch(G){n=G}var C=!n&&!t,E="";return e&&"YAML"===Q?E=Object(m.stringify)(JSON.parse(JSON.stringify(e))):e&&(E=JSON.stringify(e,null,2)),Object(f.jsx)("div",{className:"GraphQLToOpenApiDocs",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsxs)("header",{className:"GraphQLToOpenApiDocs-header",children:[Object(f.jsx)("img",{height:50,src:b,className:"GraphQLToOpenApiDocs-logo",alt:"logo"}),Object(f.jsx)("a",{className:"float-right",href:"https://npmjs.com/graphql-to-openapi",children:Object(f.jsx)("img",{alt:"npm link",src:"https://img.shields.io/npm/v/graphql-to-openapi.svg"})})]}),Object(f.jsxs)("div",{style:{height:"calc(50vh - 100px)"},className:"row",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)(l.a.Group,{style:{height:"100%"},children:[Object(f.jsx)(l.a.Label,{children:"GraphQL Schema"}),Object(f.jsx)(x,{errors:n?[n]:void 0,onChange:w,value:O})]})}),Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)(l.a.Group,{style:{height:"100%"},children:[Object(f.jsx)(l.a.Label,{children:"GraphQL Query"}),Object(f.jsx)(x,{errors:t,onChange:q,value:A})]})})]}),Object(f.jsx)("p",{children:"\xa0"}),Object(f.jsx)("div",{className:"row",style:{height:"calc(50vh - 50px)"},children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsxs)("div",{className:"row",style:{marginBottom:5},children:[Object(f.jsxs)(h.a,{size:"sm",className:"col",children:[Object(f.jsx)(h.a.Prepend,{children:Object(f.jsx)(d.a,{disabled:!0,variant:"link",children:"OpenAPI Schema"})}),Object(f.jsxs)(p.a,{name:"outputType",type:"radio",size:"sm",value:Q,onChange:I,children:[Object(f.jsx)(u.a,{value:"YAML",children:"YAML"}),Object(f.jsx)(u.a,{value:"JSON",children:"JSON"})]})]}),C?Object(f.jsx)("span",{className:"col",style:{textAlign:"right"},children:Object(f.jsx)(g.a,{})}):Object(f.jsxs)("span",{className:"col",style:{textAlign:"right"},children:[Object(f.jsx)("span",{className:"spinner-grow",style:{width:"1em",height:"1em"},children:Object(f.jsx)("span",{className:"sr-only",children:"Loading..."})})," ","Waiting for valid schema and query..."]})]}),e?Object(f.jsx)("textarea",{className:"form-control",readOnly:!0,style:y,value:E}):Object(f.jsx)("textarea",{readOnly:!0,disabled:!0,style:y,className:"form-control",placeholder:"Please supply a schema and query above"})]})})]})})},S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(160);i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/graphql-to-openapi",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/graphql-to-openapi","/service-worker.js");S?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(n,e)}))}}()}},[[161,1,2]]]);
//# sourceMappingURL=main.4ce5fe8c.chunk.js.map